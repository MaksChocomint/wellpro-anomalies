import pandas as pd
import numpy as np

def generate_scenarios():
    n = 600 
    df = pd.DataFrame()
    
    # 1. скорость_спо (Шум на нуле + резкий старт)
    val = np.random.normal(0, 0.005, n)
    val[50] = 3.5  # Выше критического (2.0)
    df['скорость_спо'] = val

    # 2. скорость_бурения (Плавный ход + провал)
    val = np.random.normal(15, 0.5, n)
    val[100] = 40.0 # Выше лимита (35)
    df['скорость_бурения'] = val

    # 3. дмк (Дрожание датчика)
    val = np.random.normal(40, 2, n)
    val[150] = 110.0 # Выше лимита (100)
    df['дмк'] = val

    # 4. нагрузка (Отрицательный шум + выброс)
    val = np.random.normal(5, 0.3, n)
    val[200] = -15.0 # Ниже лимита (-10)
    df['нагрузка'] = val

    # 5. обороты_ротора (Вибрация - FFT тест)
    val = np.full(n, 60.0)
    for i in range(240, 270):
        val[i] += 20 if i % 2 == 0 else -20
    df['обороты_ротора'] = val

    # 6. момент_ротора (Скачок плотности - LOF тест)
    val = np.random.normal(10, 0.2, n)
    val[300] = 28.0 # Выше лимита (25)
    df['момент_ротора'] = val

    # 7. расход_на_входе (Критический провал в минус)
    val = np.random.normal(12, 0.1, n)
    val[350] = -15.0
    df['расход_на_входе'] = val

    # 8. давление_на_входе (Резкий скачок - Z-score тест)
    val = np.random.normal(200, 5, n)
    val[400] = 450.0 # Выше лимита (400)
    df['давление_на_входе'] = val

    # 9. температура_на_выходе (Медленный перегрев)
    val = np.random.normal(25, 0.5, n)
    val[450] = 55.0
    df['температура_на_выходе'] = val

    # 10. вес_на_крюке (Потеря веса)
    val = np.random.normal(100, 1, n)
    val[500] = 5.0 # Ниже лимита (10)
    df['вес_на_крюке'] = val

    # 11. уровень_в_емкости (Опустошение)
    val = np.random.normal(1.5, 0.05, n)
    val[550] = 0.1 # Ниже лимита (0.5)
    df['уровень_в_емкости'] = val

    # 12. глубина (Застывшее значение + скачок)
    val = np.linspace(1000, 1100, n)
    val[580] = 10500.0 # Выше лимита (10000)
    df['глубина'] = val

    df.to_csv('synthetic_tests.csv', index=False)
    print(f"✅ Сгенерировано {len(df.columns)} параметров. Файл готов к проверке.")

if __name__ == "__main__":
    generate_scenarios()