# –ò—Ç–æ–≥–æ–≤—ã–π –û—Ç—á–µ—Ç –æ –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ page.tsx

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞                      | –ó–Ω–∞—á–µ–Ω–∏–µ           |
| ---------------------------- | ------------------ |
| **–ò—Å—Ö–æ–¥–Ω—ã–π —Ä–∞–∑–º–µ—Ä page.tsx** | 835 —Å—Ç—Ä–æ–∫          |
| **–ù–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä page.tsx**    | 280 —Å—Ç—Ä–æ–∫          |
| **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ**               | 555 —Å—Ç—Ä–æ–∫ (-66.5%) |
| **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ**     | 9                  |
| **–ù–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**        | 3                  |
| **–ù–æ–≤—ã—Ö —Ö—É–∫–æ–≤**              | 3                  |
| **–ù–æ–≤—ã—Ö —É—Ç–∏–ª–∏—Ç**             | 2                  |

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (3)

1. **AnalysisMethodSelector.tsx** (46 —Å—Ç—Ä–æ–∫)
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ –º–µ—Ç–æ–¥–∞ –∞–Ω–∞–ª–∏–∑–∞ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–ª—è–º–∏ –ø–æ—Ä–æ–≥–æ–≤
   - Props: analysisMethod, thresholds, onMethodChange, onThresholdChange, isDisabled
2. **GraphGrid.tsx** (90 —Å—Ç—Ä–æ–∫)
   - –°–µ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - Props: liveData, availableParameters, graphVisibility, anomalyInfo
3. **ControlButtons.tsx** (48 —Å—Ç—Ä–æ–∫)
   - –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–æ–≤ –∏ —Ä–µ–∂–∏–º–∞–º–∏
   - Props: —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ –ø—Ä–æ–ø—Å—ã –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π

### –•—É–∫–∏ (3)

1. **useWebSocket.ts** (145 —Å—Ç—Ä–æ–∫)
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º
   - –§—É–Ω–∫—Ü–∏–∏: connectWebSocket
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: wsRef, connectWebSocket
2. **useDataSimulation.ts** (68 —Å—Ç—Ä–æ–∫)
   - –°–∏–º—É–ª—è—Ü–∏—è –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞
   - –§—É–Ω–∫—Ü–∏–∏: startDataSimulation, stopSimulation
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: fullDataRef, intervalRef, dataIndexRef, stopSimulation, startDataSimulation
3. **useThresholds.ts** (67 —Å—Ç—Ä–æ–∫)
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞
   - –§—É–Ω–∫—Ü–∏–∏: handleThresholdChange, getThresholdValue, buildMessageForMethod
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: thresholdsRef, handleThresholdChange, getThresholdValue, buildMessageForMethod

### –£—Ç–∏–ª–∏—Ç—ã (2)

1. **fileUtils.ts** (47 —Å—Ç—Ä–æ–∫)
   - `analyzeFile(file, params)` - –ê–Ω–∞–ª–∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ API
   - `extractFlightStartTimeFromFile(fileContent)` - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞
2. **thresholdUtils.ts** (43 —Å—Ç—Ä–æ–∫)
   - `buildParametersMessage(method, thresholds)` - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
   - `getThresholdKeysForMethod(method)` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π –¥–ª—è –º–µ—Ç–æ–¥–∞
   - `getThresholdLabel(key)` - –ú–µ—Ç–∫–∏ –¥–ª—è UI

### –°–ª—É–∂–µ–±–Ω—ã–µ —Ñ–∞–π–ª—ã (1)

1. **hooks/index.ts** - –ò–Ω–¥–µ–∫—Å –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏–º–ø–æ—Ä—Ç–∞

## üéØ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### page.tsx (~280 —Å—Ç—Ä–æ–∫)

- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ö—É–∫–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è
- ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- ‚úÖ –†–∞–∑–º–µ—Ç–∫–∞ –º–∞–∫–µ—Ç–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- ‚úÖ –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (UI)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–ø—Å–æ–≤
- ‚úÖ –í—ã–∑–æ–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
- ‚ùå –õ–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚ùå –°–∞–π–¥-—ç—Ñ—Ñ–µ–∫—Ç—ã

### –•—É–∫–∏

- ‚úÖ –õ–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –°–∞–π–¥-—ç—Ñ—Ñ–µ–∫—Ç—ã
- ‚úÖ WebSocket –ª–æ–≥–∏–∫–∞
- ‚úÖ –°–∏–º—É–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏

### –£—Ç–∏–ª–∏—Ç—ã

- ‚úÖ –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ API –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
page.tsx (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
‚îú‚îÄ‚Üí useWebSocket (–ª–æ–≥–∏–∫–∞ WebSocket)
‚îú‚îÄ‚Üí useDataSimulation (–ª–æ–≥–∏–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏)
‚îú‚îÄ‚Üí useThresholds (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞–º–∏)
‚îî‚îÄ‚Üí –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)
    ‚îú‚îÄ‚Üí AnalysisMethodSelector
    ‚îú‚îÄ‚Üí GraphGrid
    ‚îú‚îÄ‚Üí ControlButtons
    ‚îî‚îÄ‚Üí –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```

## üí™ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ

- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –•—É–∫–∏ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –§—É–Ω–∫—Ü–∏–∏ –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–æ–ø—Å–æ–≤
- ‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –ö–æ–¥–∞ –º–µ–Ω—å—à–µ, —Å–º—ã—Å–ª –ø–æ–Ω—è—Ç–Ω–µ–µ

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ

- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ü—Ä–æ—â–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞** - –†–∞–∑–Ω—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –∏–º–µ–µ—Ç —á–µ—Ç–∫—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- ‚úÖ **Maintenance** - –û—à–∏–±–∫–∏ –ø—Ä–æ—â–µ –Ω–∞–π—Ç–∏ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```typescript
<AnalysisMethodSelector
  analysisMethod={analysisMethod}
  thresholds={thresholds}
  onMethodChange={handleAnalysisMethodChange}
  onThresholdChange={handleThresholdChange}
  isDisabled={!isBackendConnected || isSimulationActive}
/>
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ö—É–∫–∞

```typescript
const { wsRef, connectWebSocket } = useWebSocket({
  setLiveData,
  setAnomalyInfo,
  // ... –¥—Ä—É–≥–∏–µ props
  MAX_DATA_POINTS,
});
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π —É—Ç–∏–ª–∏—Ç—ã

```typescript
const parsedData = await analyzeFile(file, analysisParams);
const startTime = extractFlightStartTimeFromFile(fileContent);
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- ‚úÖ Type-safety —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ Props —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- üìÑ **REFACTORING_NOTES.md** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üìÑ **STRUCTURE.md** - –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. –î–æ–±–∞–≤–∏—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Ö—É–∫–æ–≤
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã/—Ö—É–∫–∏

---

**–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ! ‚ú®**
